function initJp() {
    // Get the input element by ID
    const inputElement = e;

    // Set the placeholder text
    inputElement.setAttribute("placeholder", "ç´ æ—©ã„èŒ¶è‰²ã®ã‚­ãƒ„ãƒãŒæ€ æƒ°ãªçŠ¬ã‚’é£›ã³è¶Šãˆã‚‹ã€‚");

    // Find the footer element
    const footerElement = document.getElementById("footer");

    // Create buttons for Arabic diacritics
    const diacritics = [
        { char: "ã€œ", title: "æ³¢ãƒ€ãƒƒã‚·ãƒ¥ nami dasshu" },
        { char: "ãƒ»", title: "ä¸­é»’ nakaguro" },
        { char: "ãƒ¼", title: "é•·éŸ³ç¬¦ chÅonpu" },
        { char: "ã€Œ", title: "é‰¤æ‹¬å¼§ kagikakko" },
        { char: "ã€", title: "é‰¤æ‹¬å¼§ kagikakko" },
        { char: "ã€", title: "èª­ç‚¹ tÅten" },
        { char: "ã€‚", title: "å¥ç‚¹ kuten" },
        { char: "ã€…", title: "è¸Šã‚Šå­— odoriji - repetition mark kanji" },
        { char: "ãƒ¼", title: "é•·éŸ³ç¬¦ chÅonpu - katakana long sound symbol" },
        { char: "ãƒ½", title: "iteration mark katakana" },
        { char: "ãƒ¾", title: "iteration mark katakana with dakuten" },
        { char: "ã‚", title: "iteration mark hiragana" },
        { char: "ã‚", title: "iteration mark hiragana with dakuten" },
    ];

    // Build the button HTML dynamically using a loop
    let buttonHtml = "";
    for (const diacritic of diacritics) {
        buttonHtml += `
        <input type="button" onclick="kb('${diacritic.char}')" value="${diacritic.char}" title="${diacritic.title}">
        `;
    }

    // Set the footer content
    footerElement.innerHTML = buttonHtml;
  
    // Append the footer to the document body
    document.body.appendChild(footerElement);
  
    // Set the page title
    document.title = "Japanese!!";
}


function tojp(car) {
    // Define a map for character replacements
    const charMap = {

        "[Ã´Å]": "oã†",
        "[Å«Ã»]": "uã†",
        "[Ã¢Ä]": "aã‚",
        "[Ã®Ä«]": "iã„",
        "[ÃªÄ“]": "eã„",

        "n": "ã‚“",
        "q": "ã£",
        "tsu": "ã¤",
        "dzu": "ã¥",
        "dji": "ã¢",
        "kya": "ãã‚ƒ",
        "kyu": "ãã‚…",
        "kyo": "ãã‚‡",
        "ã‚“ya": "ã«ã‚ƒ",
        "ã‚“yu": "ã«ã‚…",
        "ã‚“yo": "ã«ã‚‡",
        "sha": "ã—ã‚ƒ",
        "shi": "ã—",
        "shu": "ã—ã‚…",
        "sho": "ã—ã‚‡",
        "chi": "ã¡",
        "cha": "ã¡ã‚ƒ",
        "chu": "ã¡ã‚…",
        "cho": "ã¡ã‚‡",
        "hya": "ã²ã‚ƒ",
        "hyu": "ã²ã‚…",
        "hyo": "ã²ã‚‡",
        "mya": "ã¿ã‚ƒ",
        "myu": "ã¿ã‚…",
        "myo": "ã¿ã‚‡",
        "rya": "ã‚Šã‚ƒ",
        "ryu": "ã‚Šã‚…",
        "ryo": "ã‚Šã‚‡",
        "gya": "ãã‚ƒ",
        "gyu": "ãã‚…",
        "gyo": "ãã‚‡",
        "bya": "ã³ã‚ƒ",
        "byu": "ã³ã‚…",
        "byo": "ã³ã‚‡",
        "pya": "ã´ã‚ƒ",
        "pyu": "ã´ã‚…",
        "pyo": "ã´ã‚‡",
        "ja": "ã˜ã‚ƒ",
        "ju": "ã˜ã‚…",
        "jo": "ã˜ã‚‡",
        "ba": "ã°",
        "da": "ã ",
        "ga": "ãŒ",
        "ha": "ã¯",
        "ka": "ã‹",
        "ma": "ã¾",
        "ã‚“a": "ãª",
        "pa": "ã±",
        "ra": "ã‚‰",
        "sa": "ã•",
        "ta": "ãŸ",
        "wa": "ã‚",
        "ya": "ã‚„",
        "za": "ã–",
        "be": "ã¹",
        "de": "ã§",
        "ge": "ã’",
        "he": "ã¸",
        "ke": "ã‘",
        "me": "ã‚",
        "ã‚“e": "ã­",
        "pe": "ãº",
        "re": "ã‚Œ",
        "se": "ã›",
        "te": "ã¦",
        "we": "ã‚‘",
        "ze": "ãœ",
        "bi": "ã³",
        "gi": "ã",
        "hi": "ã²",
        "ki": "ã",
        "si": "ã—",
        "ti": "ã¡",
        "mi": "ã¿",
        "ã‚“i": "ã«",
        "pi": "ã´",
        "ri": "ã‚Š",
        "wi": "ã‚",
        "ji": "ã˜",
        "zi": "ã˜",
        "bo": "ã¼",
        "do": "ã©",
        "go": "ã”",
        "ho": "ã»",
        "ko": "ã“",
        "mo": "ã‚‚",
        "ã‚“o": "ã®",
        "po": "ã½",
        "ro": "ã‚",
        "so": "ã",
        "to": "ã¨",
        "wo": "ã‚’",
        "yo": "ã‚ˆ",
        "zo": "ã",
        "bu": "ã¶",
        "gu": "ã",
        "fu": "ãµ",
        "hu": "ãµ",
        "ku": "ã",
        "mu": "ã‚€",
        "ã‚“u": "ã¬",
        "pu": "ã·",
        "ru": "ã‚‹",
        "su": "ã™",
        "tu": "ã¤",
        "yu": "ã‚†",
        "zu": "ãš",

        // cas des doublons
        "di": "ã¢",
        "ã˜=": "ã¢",
        "du": "ã¥",
        "ãš=": "ã¥",

        "a": "ã‚",
        "[eÃ©]": "ãˆ",
        "i": "ã„",
        "o": "ãŠ",
        "u": "ã†",
        "v": "ã‚”",

        "ã¤=": "ã£",
        "ã‚=": "ã",
        "ã„=": "ãƒ",
        "ã†=": "ã…",
        "ãˆ=": "ã‡",
        "ãŠ=": "ã‰",
        "ã‚„=": "ã‚ƒ",
        "ã‚†=": "ã‚…",
        "ã‚ˆ=": "ã‚‡",

        //kata
        "[Ã”ÅŒ]": "Oãƒ¼",
        "[ÅªÃ›]": "Uãƒ¼",
        "[Ã‚Ä€]": "Aãƒ¼",
        "[ÃÄª]": "Iãƒ¼",
        "[ÃŠÄ’]": "Eãƒ¼",
        "_": "ãƒ¼",

        "N": "ãƒ³",
        "V": "ãƒ´",
        "Q": "ãƒƒ",
        "KYA": "ã‚­ãƒ£",
        "KYU": "ã‚­ãƒ¥",
        "KYO": "ã‚­ãƒ§",
        "ãƒ³YA": "ãƒ‹ãƒ£",
        "ãƒ³YU": "ãƒ‹ãƒ¥",
        "ãƒ³YO": "ãƒ‹ãƒ§",
        "SHA": "ã‚·ãƒ£",
        "SHU": "ã‚·ãƒ¥",
        "SHO": "ã‚·ãƒ§",
        "CHA": "ãƒãƒ£",
        "CHU": "ãƒãƒ¥",
        "CHO": "ãƒãƒ§",
        "HYA": "ãƒ’ãƒ£",
        "HYU": "ãƒ’ãƒ¥",
        "HYO": "ãƒ’ãƒ§",
        "MYA": "ãƒŸãƒ£",
        "MYU": "ãƒŸãƒ¥",
        "MYO": "ãƒŸãƒ§",
        "RYA": "ãƒªãƒ£",
        "RYU": "ãƒªãƒ¥",
        "RYO": "ãƒªãƒ§",
        "GYA": "ã‚®ãƒ£",
        "GYU": "ã‚®ãƒ¥",
        "GYO": "ã‚®ãƒ§",
        "BYA": "ãƒ“ãƒ£",
        "BYU": "ãƒ“ãƒ¥",
        "BYO": "ãƒ“ãƒ§",
        "PYA": "ãƒ”ãƒ£",
        "PYU": "ãƒ”ãƒ¥",
        "PYO": "ãƒ”ãƒ§",
        "JA": "ã‚¸ãƒ£",
        "JU": "ã‚¸ãƒ¥",
        "JO": "ã‚¸ãƒ§",

        "TSU": "ãƒ„",
        "DZU": "ãƒ…",
        "DJU": "ãƒ…",
        "DJI": "ãƒ‚",
        "SHI": "ã‚·",
        "CHI": "ãƒ",

        // supplements
        "JE": "ã‚¸ã‚§",
        "TI": "ãƒ†ã‚£",
        "TU": "ãƒˆã‚¥",
        "TYU": "ãƒ†ãƒ¥",
        "DI": "ãƒ‡ã‚£",
        "DU": "ãƒ‰ã‚¥",
        "DYU": "ãƒ‡ãƒ¥",
        "SI": "ã‚¹ã‚£",
        "ZI": "ã‚ºã‚£",
        "SHE": "ã‚¸ã‚§",
        "CHE": "ãƒã‚§",
        "TSA": "ãƒ„ã‚¡",
        "TSI": "ãƒ„ã‚£",
        "TSE": "ãƒ„ã‚§",
        "TSO": "ãƒ„ã‚©",
        "FA": "ãƒ•ã‚¡",
        "FI": "ãƒ•ã‚£",
        "FE": "ãƒ•ã‚§",
        "FO": "ãƒ•ã‚©",
        "FYU": "ãƒ•ãƒ¥",
        "HU": "ãƒ›ã‚¥",
        "YE": "ã‚¤ã‚§",
        "YI": "ã‚¤ã‚£",
        "WU": "ã‚¦ã‚¥",



        "BA": "ãƒ",
        "DA": "ãƒ€",
        "GA": "ã‚¬",
        "HA": "ãƒ",
        "KA": "ã‚«",
        "MA": "ãƒ",
        "ãƒ³A": "ãƒŠ",
        "PA": "ãƒ‘",
        "RA": "ãƒ©",
        "SA": "ã‚µ",
        "TA": "ã‚¿",
        "WA": "ãƒ¯",
        "YA": "ãƒ¤",
        "ZA": "ã‚¶",
        "BE": "ãƒ™",
        "DE": "ãƒ‡",
        "GE": "ã‚²",
        "HE": "ãƒ˜",
        "KE": "ã‚±",
        "ME": "ãƒ¡",
        "ãƒ³E": "ãƒ",
        "PE": "ãƒš",
        "RE": "ãƒ¬",
        "SE": "ã‚»",
        "TE": "ãƒ†",
        "WE": "ãƒ±",
        "ZE": "ã‚¼",
        "BI": "ãƒ“",
        "GI": "ã‚®",
        "HI": "ãƒ’",
        "KI": "ã‚­",
        "MI": "ãƒŸ",
        "ãƒ³I": "ãƒ‹",
        "PI": "ãƒ”",
        "RI": "ãƒª",
        "WI": "ãƒ°",
        "JI": "ã‚¸",
        "BO": "ãƒœ",
        "DO": "ãƒ‰",
        "GO": "ã‚´",
        "HO": "ãƒ›",
        "KO": "ã‚³",
        "MO": "ãƒ¢",
        "ãƒ³O": "ãƒ",
        "PO": "ãƒ",
        "RO": "ãƒ­",
        "SO": "ã‚½",
        "TO": "ãƒˆ",
        "WO": "ãƒ²",
        "YO": "ãƒ¨",
        "ZO": "ã‚¾",
        "BU": "ãƒ–",
        "GU": "ã‚°",
        "FU": "ãƒ•",
        "KU": "ã‚¯",
        "MU": "ãƒ ",
        "ãƒ³U": "ãƒŒ",
        "PU": "ãƒ—",
        "RU": "ãƒ«",
        "SU": "ã‚¹",
        "YU": "ãƒ¦",
        "ZU": "ã‚º",


        //archaic
        //"YE": "ğ›„¡",
        //"YI": "ğ›„ ",
        //"WU": "ğ›„¢",

        "A": "ã‚¢",
        "[EÃ‰]": "ã‚¨",
        "I": "ã‚¤",
        "O": "ã‚ª",
        "U": "ã‚¦",

        "ã‚¢=": "ã‚¡",
        "ã‚¤=": "ã‚£",
        "ã‚¦=": "ã‚¥",
        "ã‚¨=": "ã‚§",
        "ã‚ª=": "ã‚©",
        "ãƒ„=": "ãƒƒ",
        "ãƒ¤=": "ãƒ£",
        "ãƒ¦=": "ãƒ¥",
        "ãƒ¨=": "ãƒ§",

        // 2e sÃ©rie
        "ã‚¯=": "ã‡°",
        "ã‚·=": "ã‡±",
        "ã‚¹=": "ã‡²",
        "ãƒˆ=": "ã‡³",
        "ãƒŒ=": "ã‡´",
        "ãƒ=": "ã‡µ",
        "ãƒ’=": "ã‡¶",
        "ãƒ•=": "ã‡·",
        "ãƒ˜=": "ã‡¸",
        "ãƒ›=": "ã‡¹",
        "ãƒ =": "ã‡º",
        "ãƒ©=": "ã‡»",
        "ãƒª=": "ã‡¼",
        "ãƒ«=": "ã‡½",
        "ãƒ¬=": "ã‡¾",
        "ãƒ­=": "ã‡¿",

        "\.": "ã€‚",
        "\,": "ã€",
        "\!": "ï¼",
        "\?": "ï¼Ÿ",
        "\:": "ï¼š",
        "\(": "ï¼ˆ",
        "\)": "ï¼‰",
        "\[": "ï¼»",
        "\]": "ï¼½",
        "\Â«": "ã€Œ",
        "\Â»": "ã€",
    }

    // Replace characters using the map
    let convertedText = text.split("").map((char) => charMap[char] || char).join("");
    
    return convertedText;
}
